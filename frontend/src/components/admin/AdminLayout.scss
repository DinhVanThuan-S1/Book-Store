@import '@styles/variables.scss';

.admin-layout {
  min-height: 100vh;
  height: 100vh; // ⭐ THÊM
  overflow: hidden; // ⭐ THÊM
  
  // Sidebar
  .admin-sider {
    background: #001529;
    overflow: auto;
    z-index: 100;
    transition: all 0.2s; // ⭐ Smooth transition
    
    // Hide scrollbar for cleaner look
    &::-webkit-scrollbar {
      width: 6px;
    }
    
    &::-webkit-scrollbar-track {
      background: rgba(255, 255, 255, 0.05);
    }
    
    &::-webkit-scrollbar-thumb {
      background: rgba(255, 255, 255, 0.2);
      border-radius: 3px;
      
      &:hover {
        background: rgba(255, 255, 255, 0.3);
      }
    }
    
    .admin-logo {
      height: 64px;
      display: flex;
      align-items: center;
      justify-content: center;
      gap: $spacing-sm;
      padding: 0 $spacing-lg;
      background: rgba(255, 255, 255, 0.05);
      border-bottom: 1px solid rgba(255, 255, 255, 0.1);
      
      .logo-icon {
        font-size: $font-3xl;
      }
      
      .logo-text {
        font-size: $font-lg;
        font-weight: $font-bold;
        color: white;
        white-space: nowrap; // ⭐ THÊM
      }
    }
    
    .admin-menu {
      background: transparent;
      border-right: none;
      padding: $spacing-md 0; // ⭐ THÊM
      
      .ant-menu-item {
        font-size: $font-base;
        height: 48px;
        line-height: 48px;
        margin: 4px 8px; // ⭐ THÊM
        border-radius: $radius-md; // ⭐ THÊM
        color: rgba(255, 255, 255, 0.85); // ⭐ Màu chữ sáng
        
        // Icon color
        .anticon {
          color: rgba(255, 255, 255, 0.75);
        }
        
        &:hover {
          background: rgba(255, 255, 255, 0.1);
          color: #ffffff; // ⭐ Màu chữ trắng khi hover
          
          .anticon {
            color: #ffffff;
          }
        }
      }
      
      .ant-menu-item-selected {
        background: $primary-color !important;
        color: #ffffff !important; // ⭐ Màu chữ trắng khi selected
        
        .anticon {
          color: #ffffff !important;
        }
      }
    }
  }
  
  // Main Layout (bên phải sidebar)
  .ant-layout {
    // ⭐ Không set margin-left cố định - để Ant Design Layout tự động xử lý
    height: 100vh;
  }
  
  // Header
  .admin-header {
    background: white;
    padding: 0 $spacing-xl; // ⭐ THÊM padding
    display: flex;
    justify-content: space-between;
    align-items: center;
    box-shadow: $shadow-sm;
    position: sticky;
    top: 0;
    z-index: 99;
    height: 64px; // ⭐ THÊM
    
    .header-left {
      .trigger {
        font-size: 20px;
        cursor: pointer;
        transition: color $transition-base;
        padding: $spacing-md; // ⭐ THÊM
        
        &:hover {
          color: $primary-color;
        }
      }
    }
    
    .header-right {
      display: flex;
      align-items: center;
      gap: $spacing-xl;
      
      .notification-badge {
        .ant-badge-count {
          box-shadow: none;
        }
        
        .anticon {
          cursor: pointer;
          transition: color $transition-base;
          
          &:hover {
            color: $primary-color;
          }
        }
      }
      
      .user-info {
        padding: $spacing-sm; // ⭐ THÊM
        border-radius: $radius-md; // ⭐ THÊM
        transition: background $transition-base; // ⭐ THÊM
        
        &:hover {
          background: $bg-tertiary;
        }
        
        .user-details {
          display: flex;
          flex-direction: column;
          align-items: flex-start;
          line-height: 1.3; // ⭐ THÊM
        }
      }
    }
  }
  
  // Content
  .admin-content {
    margin: $spacing-lg;
    padding: $spacing-xl;
    background: white;
    border-radius: $radius-lg;
    box-shadow: $shadow-sm;
    min-height: calc(100vh - 64px - 32px);
    overflow-y: auto; // ⭐ THÊM
    
    // Custom scrollbar
    &::-webkit-scrollbar {
      width: 8px;
    }
    
    &::-webkit-scrollbar-track {
      background: $bg-tertiary;
      border-radius: 4px;
    }
    
    &::-webkit-scrollbar-thumb {
      background: $border-color;
      border-radius: 4px;
      
      &:hover {
        background: $text-light;
      }
    }
  }
}

// Responsive
@media (max-width: $breakpoint-lg) {
  .admin-layout {
    .admin-sider {
      // Sidebar ẩn trên mobile, chỉ hiện khi click toggle
      position: fixed; // ⭐ Chỉ fixed trên mobile
      left: 0;
      top: 0;
      bottom: 0;
      
      &:not(.ant-layout-sider-collapsed) {
        z-index: 1000;
      }
    }
    
    .admin-content {
      margin: $spacing-md;
      padding: $spacing-lg;
    }
  }
}

@media (max-width: $breakpoint-md) {
  .admin-layout {
    .admin-header {
      padding: 0 $spacing-md;
      
      .header-right {
        gap: $spacing-md;
        
        .user-details {
          display: none; // ⭐ Ẩn text trên mobile nhỏ
        }
      }
    }
    
    .admin-content {
      margin: $spacing-sm;
      padding: $spacing-md;
    }
  }
}